---
layout: post
title:  "파이썬 프로젝트 구조화 작업"
subtitle: "프로젝트 구조화는 어떤 것이며 왜 해야할까"
author: twkim
category: tech
tags: [ Python, Process, Structure ]
image: assets/images/1.jpg
---

### 해당 포스트는..
>프로젝트를 구조화하는 것은 프로젝트의 성공과 지속 가능성을 위한 핵심 요소입니다. 특히 여러 개발자가 협업하거나 장기간 유지보수가 필요한 프로젝트에서는 더욱 중요합니다. 프로젝트 구조화란 무엇이며 어떻게 해야할지 고민해보았습니다.


### 중제목

5월의 어느날,`[구조화] python_process 구조화` 라는 약간은 부담스러운 티켓이 생성되었습니다.

매출 정산을 위한 크롤링 소스가 포함된 기존 파이썬 프로젝트를 구조화하는 작업을 맡게 된 것입니다. 기존 코드베이스에 추가하여 다양한 프로세스를 파이썬으로 실행하고자 하는 필요로 인해 포괄적인 프로젝트 구조를 설계해야 했습니다. 이는 단순한 코드 작성과는 달리, 프로젝트의 전반적인 방향성을 결정하는 작업이기 때문에 많은 고민과 계획이 필요했습니다.


### 프로젝트 구조화의 중요성

프로젝트 구조화는 단순히 파일을 여러 폴더에 분류하는 것 이상의 의미를 가집니다. 이것은 프로젝트의 효율성, 유지보수성, 그리고 확장성을 향상시키는 데 필수적인 요소입니다. 잘 구조화된 프로젝트는 다음과 같은 다섯 가지 주요 이점을 제공합니다.

1. **가독성**

    프로젝트가 체계적으로 정리되면 코드와 폴더 구조가 명확해져, 다른 개발자들이 프로젝트를 이해하고 적용하는 데 큰 도움이 됩니다. 각 부분이 명확하게 구분되어 있어 코드의 기능과 흐름을 이해하기 쉽습니다.

2. **유지보수성**
    
    모듈화된 코드는 각 부분을 독립적으로 수정하고 테스트할 수 있습니다. 따라서 변경 사항이 특정 부분에 미치는 영향을 최소화하며, 코드의 전체적인 안정성과 유지보수성을 높입니다.

3. **재사용성**
    
    잘 구조화된 코드 모듈은 다른 프로젝트에서 쉽게 재사용할 수 있습니다. 특정 기능이나 유틸리티는 독립적인 모듈로 분리되어 있어 필요할 때 쉽게 가져와서 활용할 수 있습니다.

4. **협업 효율성**
    
    명확한 구조는 팀 내에서의 역할 분담과 소통을 원활하게 합니다. 각 기능이나 모듈이 명확하게 정의되어 있어 개발자들이 각자의 역할에 집중할 수 있고, 필요한 정보나 기능을 쉽게 찾아 활용할 수 있습니다.

5. **테스트 용이성**
    
    테스트 코드를 별도로 관리하면 코드의 신뢰성을 높일 수 있습니다. 각 기능이나 모듈별로 테스트 코드를 작성하고 실행함으로써 버그를 조기에 발견하고 해결할 수 있습니다. 이는 전체 프로젝트의 안정성을 높이는 데 기여합니다.

이러한 장점들을 구현한 구조화는 어떻게 해야할까요?


### Package by Layer vs Package by Feature

프로젝트 구조화를 위해 패키지를 구성하는 방법은 크게 계층별 패키지와 기능별 패키지로 나눌 수 있습니다.

**Package by Layer(계층별 패키지)** 

계층별 패키지는 프로젝트를 아키텍처적 계층에 따라 패키지화하여 분리하는 방식입니다. 이 방식은 주로 소프트웨어의 아키텍처를 분리하고 각 계층별로 책임을 명확히 할 수 있도록 도와줍니다.

예시:
└── app
    ├── controller
    │   ├── company_controller.py
    │   ├── product_controller.py
    │   └── user_controller.py
    ├── model
    │   ├── company.py
    │   ├── product.py
    │   └── user.py
    ├── repository
    │   ├── company_repository.py
    │   ├── product_repository.py
    │   └── user_repository.py
    ├── service
    │   ├── company_service.py
    │   ├── product_service.py
    │   └── user_service.py
    └── util
        ├── common_utils.py
        └── logging_utils.py

계층별 패키지 구조는 코드를 명확히 분리하여 각 계층이 특정 역할과 책임을 수행하도록 설계되어 여러 중요한 장점을 제공합니다. 각 계층이 분리되어 있어 코드의 기능과 전체 프로젝트의 흐름을 쉽게 이해할 수 있습니다. 비즈니스 로직이 변경될 때는 서비스 계층에서 수정하고, HTTP 요청 처리는 컨트롤러 계층에서 작업할 수 있습니다. 그러나 기능 구현이 코드베이스 전체에 흩어져 특정 작업의 영향 범위가 코드베이스 전체로 퍼질 수 있습니다. 이로 인해 특정 기능을 모듈로 분리하거나 내부 구현 세부 사항을 추상화하여 제공하기가 어려워질 수 있습니다. 따라서 객체지향설계원칙과 단일책임원칙등 지켜야하는 원칙을 고려하여 가능한 낮은 결합도와 높은 응집도를 가지게 하여야 합니다.

### 정석적인 파이썬 프로젝트 구조란?

업무를 담당하게 된 뒤 가장 많은 고민을 했던 부분입니다. 파이썬으로 프로그램을 만들어본 경험은 있지만, 구조화된 프로젝트를 운영해본 적은 없었습니다. 단순 업무 자동화 파일을 만든 것이 전부였기 때문에, 정석적인 파이썬 프로젝트가 무엇인지, 지켜야 할 규칙이 있는지 알아보고 적용하려고 했습니다.

검색해본 결과, 파이썬이 워낙 유연한 언어인 만큼 프로젝트 구조에 딱 정해진 방식은 없었습니다. 프로젝트 상황과 팀 구성에 맞는 유연한 방식으로 구조를 만들면 되는 것으로 보였습니다. 그래서 몇 가지 유의해야 할 규칙만 정하고 프로젝트 구조를 만들기로 했습니다.

1. **모듈화된 구성**

    프로젝트의 코드를 가능한 작은 모듈로 나누어 관리합니다. 공통 기능을 가진 파일은 **_lib/** 디렉토리에 모아 클래스로 구성합니다.

2. **폴더링된 소스 코드**

    프로젝트의 핵심 기능이 동작하는 코드는 **src/** 디렉토리 아래 카테고리별로 분류합니다. 이렇게 하면 각 기능을 쉽게 찾고 관리할 수 있습니다.

3. **모듈화된 함수**

    필요한 코드는 각각의 기능을 수행하는 함수로 작성하고 **modules/** 디렉토리에 넣습니다. 이렇게 하면 코드 재사용성이 높아지고 유지보수도 쉬워집니다.

4. **의미 있는 모듈 이름**
    
    모듈 파일 이름은 해당 모듈이 어떤 기능을 수행하는지 명확하게 드러나도록 지어야 합니다. 이는 다른 개발자가 프로젝트를 이해하고 사용할 때 도움이 됩니다.

5. **데코레이터 활용**

    파이썬의 강력한 기능 중 하나인 데코레이터를 적극적으로 활용하여 코드의 효율성을 높이고 중복을 줄입니다. 예를 들어, 로깅, 인증, 성능 측정 등 여러 측면에서 유용하게 활용할 수 있습니다.






<!-- 
**진하게** // 볼드 처리 하고 싶은 텍스트
`부스터스 TECH 화이팅` // 강조하고 싶은 텍스트, 주황색 텍스트로 나오므로 꼭 필요한 곳만 사용
![이미지 설명](경로) // 마크 다운은 사이즈 조절 불가능 하므로 아래 코드로 이미지 첨부
<p style="text-align: center;">
  <img src="/assets/images/2024-07/이미지명" alt="이미지 설명">
</p>
  -->